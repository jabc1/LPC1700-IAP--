/******************************************************************************************************** 
*                                 LPC1700 工程模块
*                                    Address
*  
*                    (c) Copyright 20xx, Company Name, City, State
*                               All Rights Reserved
*
*
* FileName       : SoftTim.h
* Version        : V2.0
* Programmer(s)  : zhaojun_xf
* Parameters     : LPC1700 12.000MHz
* DebugTools     : Realview MDK V4.23              JLINK V8(SWD)
* Description    : 
*
*
********************************************************************************************************/

#ifndef  __SOFTTIM__H__
#define  __SOFTTIM__H__

/********************************************************************************************************
*                                      Pin definition                           
********************************************************************************************************/

/********************************************************************************************************
*                                     Macro definition                           
********************************************************************************************************/	 

/********************************************************************************************************
*                                    Variable definition                           
********************************************************************************************************/
typedef struct _SFT_TABLE
{
    u8   State;										                       // 定时状态(1定时，0不定时)
		#define SFT_CLOSE	     (0x00)					                   // 关定时
	    #define SFT_OPEN		 (0x01)					                   // 开定时

	u16  InitValue;									                       // 计数初始值
	u16  CountValue;									                   // 计数值
	void (*Fun)(u8 num);							                       // 要运行的任务函数

} SFT_TABLE;

//extern SFT_TABLE SFTTlb[];

//-------------------------------------------------------------------------------------------------------
typedef enum
{
    SFT_SCF = 0x00,													       // 秒闪烁
	SFT_BLK = 0x01,													       // 关闭背光
	SFT_EMU = 0x02,													       // 退出菜单

} SFT_NUM;	
				   
/********************************************************************************************************
*                                    Internal function                           
********************************************************************************************************/
static void SFT_SecFlash(u8 num);										   // 秒闪烁
static void SFT_BlkCls(u8 num);										       // 关闭背光
static void SFT_ExitMenu(u8 num);										   // 退出操作

/********************************************************************************************************
*                                     Global function                           
********************************************************************************************************/
extern void SFTInit(u8 timNum, u32 timVlu);								   // 初始定时器
extern void SFTIrq(void);											       // TIM0中断服务
extern void SFTSart(u8 num);											   // 启动软定时器 
extern void SFTStop(u8 num);											   // 停止软定时器

extern void SFTSartBlk(void);											   // 启动背光控制

/*******************************************************************************************************/
#endif

/********************************************************************************************************
*                                       End Of File         
********************************************************************************************************/
